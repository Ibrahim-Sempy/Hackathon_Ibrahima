<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Ajout essentiel -->
    <title>{% block title %}Plateforme Urbaine{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">
    <!-- Header -->
    <header class="bg-primary text-white py-3 shadow mb-4">
        <div class="container d-flex justify-content-between align-items-center">
            <h2 class="m-0 text-xl font-bold">Plateforme Urbaine Guinée</h2>
            <nav class="d-flex flex-wrap gap-2 w-100 justify-content-lg-end align-items-center" aria-label="Menu principal">
                <a href="{% url 'home' %}" class="no-underline text-white px-3 py-2 rounded hover:bg-blue-700 transition" aria-label="Accueil">Accueil</a>
                <a href="{% url 'report_list' %}" class="no-underline text-white px-3 py-2 rounded hover:bg-blue-600 transition" aria-label="Signalements">Signalements</a>
                <a href="/navigation/routes/" class="no-underline text-white px-3 py-2 rounded hover:bg-green-600 transition" aria-label="Routes">Routes</a>
                <a href="/navigation/points-of-interest/" class="no-underline text-white px-3 py-2 rounded hover:bg-cyan-600 transition" aria-label="Points d'intérêt">Points d'intérêt</a>
                {% if user.is_authenticated %}
                    <a href="{% url 'logout' %}" class="no-underline text-white px-3 py-2 rounded hover:bg-red-600 transition" aria-label="Déconnexion">Déconnexion</a>
                    <a href="{% url 'profile' %}" title="Mon profil" class="mx-2 flex items-center" aria-label="Mon profil">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-white hover:text-yellow-300 transition" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                          <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2" fill="none"/>
                          <path stroke="currentColor" stroke-width="2" d="M4 20c0-4 4-7 8-7s8 3 8 7"/>
                        </svg>
                    </a>
                {% else %}
                    <a href="{% url 'login' %}" class="no-underline text-white px-3 py-2 rounded hover:bg-blue-800 transition" aria-label="Connexion">Connexion</a>
                    <a href="{% url 'signup' %}" class="no-underline text-white px-3 py-2 rounded hover:bg-green-700 transition" aria-label="Inscription">Inscription</a>
                {% endif %}
            </nav>
        </div>
    </header>

    <!-- Contenu principal -->
    <main class="flex-grow container">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3 mt-5">
        <div class="container">
            Plateforme Urbaine Guinée &copy; {{ now|date:"Y" }} - Hackathon
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>